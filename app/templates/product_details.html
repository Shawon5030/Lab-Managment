<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>{{ product.name }} - CSE Lab Management</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
/* --------- Global --------- */
* { margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;}
:root {
    --primary: #2c3e50;
    --secondary: #3498db;
    --accent: #9b59b6;
    --light: #f5f7fa;
    --dark: #2c3e50;
    --success: #2ecc71;
    --warning: #f39c12;
    --danger: #e74c3c;
    --gray: #95a5a6;
    --transition: all 0.3s ease;
}
body { background: var(--light); color:#333; line-height:1.6; }

/* --------- Container --------- */
.container { width:90%; max-width:1200px; margin:0 auto; padding:1rem; }

/* --------- Header --------- */
header { background: var(--primary); color:#fff; padding:1rem 0; box-shadow:0 2px 8px rgba(0,0,0,0.15);}
.header-content { display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; }
.logo { font-size:1.5rem; font-weight:bold; display:flex; align-items:center; }
.logo i { margin-right:10px; color: var(--secondary); }
nav ul { display:flex; list-style:none; flex-wrap:wrap; }
nav ul li { margin-left:1.5rem; }
nav ul li a { color:#fff; text-decoration:none; display:flex; align-items:center; transition:var(--transition);}
nav ul li a i { margin-right:5px; }
nav ul li a:hover { color: var(--secondary); }

/* --------- Breadcrumb --------- */
.breadcrumb { margin:1rem 0; font-size:0.9rem; }
.breadcrumb a { color: var(--secondary); text-decoration:none; }
.breadcrumb span { color: var(--gray); }

/* --------- Page Title --------- */
.page-title { display:flex; justify-content:space-between; align-items:center; margin-bottom:2rem; border-bottom:2px solid var(--secondary); padding-bottom:0.5rem;}
.page-title h1 { color: var(--dark); font-size:1.8rem; }
.page-title h1 i { margin-right:10px; color: var(--secondary);}
.lab-info { display:flex; align-items:center; color: var(--gray); font-size:0.95rem; }
.lab-info i { margin-right:5px; color: var(--secondary); }

/* --------- Content Layout --------- */
.content-layout { display:grid; grid-template-columns:1fr 1fr; gap:2rem; margin-bottom:3rem; }
@media(max-width:900px){ .content-layout{ grid-template-columns:1fr; } }

/* --------- Left Column --------- */
.left-column .product-image {
    background: linear-gradient(135deg, var(--secondary), var(--primary));
    border-radius:12px; height:300px; display:flex; align-items:center; justify-content:center;
    color:#fff; font-size:6rem; box-shadow:0 10px 20px rgba(0,0,0,0.2);
    transition: transform 0.5s, box-shadow 0.5s;
}
.left-column .product-image img { max-width:100%; max-height:100%; border-radius:10px; }
.left-column .product-image:hover { transform: scale(1.05); box-shadow:0 15px 25px rgba(0,0,0,0.3); }

/* Product Info */
.product-info { background:#fff; padding:1.5rem; border-radius:12px; box-shadow:0 10px 20px rgba(0,0,0,0.05); transition: var(--transition);}
.product-header { display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:1.5rem; }
.product-id { color: var(--gray); font-size:0.9rem; }
.status-badge { padding:0.3rem 0.8rem; border-radius:20px; font-size:0.8rem; font-weight:bold; transition:var(--transition);}
.status-available { background-color:#e7f6e9; color:var(--success);}
.product-specs { margin-bottom:1.5rem; }
.spec-item { display:flex; justify-content:space-between; padding:0.8rem 0; border-bottom:1px solid #eee; }
.spec-item:last-child { border-bottom:none; }
.spec-label { color: var(--gray);}
.spec-value { font-weight:500; }
.action-buttons { display:flex; gap:1rem; margin-top:1.5rem; flex-wrap:wrap; }
.btn { padding:0.8rem 1.5rem; border:none; border-radius:6px; font-size:1rem; cursor:pointer; display:flex; align-items:center; transition:var(--transition);}
.btn i { margin-right:5px; }
.btn-primary { background: var(--secondary); color:#fff; }
.btn-primary:hover { background:#2980b9; transform:translateY(-2px);}
.btn-warning { background: var(--warning); color:#fff; }
.btn-warning:hover { background:#e67e22; transform:translateY(-2px); }

/* --------- Right Column --------- */
.details-section { background:#fff; padding:1.5rem; border-radius:12px; box-shadow:0 10px 20px rgba(0,0,0,0.05); margin-bottom:2rem; transition:var(--transition);}
.section-title { font-size:1.2rem; margin-bottom:1rem; color: var(--dark); border-bottom:1px solid #eee; padding-bottom:0.5rem; }
.maintenance-list { list-style:none; max-height:300px; overflow-y:auto; scroll-behavior:smooth; }
.maintenance-item { padding:1rem 0; border-bottom:1px solid #eee; cursor:pointer; transition:var(--transition);}
.maintenance-item:last-child { border-bottom:none; }
.maintenance-item:hover { background: #f0f4f8; transform:translateX(5px);}
.maintenance-date { color: var(--gray); font-size:0.9rem; margin-bottom:0.3rem;}
.maintenance-desc { margin-bottom:0.3rem; font-weight:500;}
.maintenance-tech { color: var(--gray); font-size:0.85rem;}

/* Scrollbar for maintenance */
.maintenance-list::-webkit-scrollbar { width:6px; }
.maintenance-list::-webkit-scrollbar-thumb { background: var(--secondary); border-radius:3px; }

/* --------- Footer --------- */
footer { background: var(--primary); color:#fff; padding:2rem 0; }
.footer-content { display:flex; flex-wrap:wrap; justify-content:space-between; }
.footer-section { flex:1; min-width:200px; margin-bottom:1.5rem;}
.footer-section h3 { margin-bottom:1rem; font-size:1.2rem;}
.footer-section ul { list-style:none;}
.footer-section ul li { margin-bottom:0.5rem; }
.footer-section ul li a { color:#ddd; text-decoration:none; transition:var(--transition);}
.footer-section ul li a:hover { color: var(--secondary);}
.footer-bottom { text-align:center; padding-top:1.5rem; border-top:1px solid #3c546c; margin-top:1.5rem; }

/* --------- Responsive --------- */
@media(max-width:768px){
    .header-content { flex-direction:column; text-align:center; }
    nav ul { margin-top:1rem; justify-content:center;}
    .action-buttons { flex-direction:column; }
}
@media(max-width:480px){
    .page-title { flex-direction:column; align-items:flex-start; }
    .product-header { flex-direction:column; }
    .status-badge { margin-top:0.5rem; }
}

/* --------- Modal --------- */
.modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); justify-content:center; align-items:center; z-index:1000;}
.modal-content { background:#fff; padding:2rem; border-radius:12px; width:90%; max-width:500px; position:relative; animation:fadeIn 0.4s ease-in-out; }
.modal-content h3 { margin-bottom:1rem; }
.close-btn { position:absolute; top:10px; right:15px; font-size:1.2rem; cursor:pointer; color:var(--danger); transition:var(--transition);}
.close-btn:hover { color:var(--accent);}
@keyframes fadeIn { 0%{opacity:0; transform:scale(0.8);} 100%{opacity:1; transform:scale(1);} }
</style>
</head>
<body>

{% include "navbar.html" %}

<div class="container">
    <!-- Breadcrumb -->
    <div class="breadcrumb">
        <a href="{% url 'home' %}">Home</a> > <a href="{% url 'lab-product' product.lab.id %}">{{ product.lab.name }}</a> > <span>{{ product.name }}</span>
    </div>

    <!-- Page Title -->
    <div class="page-title">
        <h1><i class="fas fa-desktop"></i>{{ product.name|truncatechars:40 }}</h1>
        <div class="lab-info"><i class="fas fa-map-marker-alt"></i> {{ product.lab.name }}</div>
    </div>

    <!-- Content Layout -->
    <div class="content-layout">
        <!-- Left Column -->
        <div class="left-column">
            <div class="product-image">
                {% if product.image %}
                    <img src="{{ product.image.url }}" alt="{{ product.name }}">
                {% else %}
                    <i class="fas fa-desktop"></i>
                {% endif %}
            </div>

            <div class="product-info">
                <div class="product-header">
                    <div class="product-id">ID: {{ product.serial_number }}</div>
                    <div class="status-badge status-available">Available</div>
                </div>

                <div class="product-specs">
                    <div class="spec-item">
                        <div class="spec-value">
                        {% if product.description %}
                            <p><strong>Key Features</strong></p>
                            <ul>
                                {% for line in product.description.splitlines %}
                                    <li>{{ line }}</li>
                                {% endfor %}
                            </ul>
                        {% else %}
                            N/A
                        {% endif %}
                        </div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary" id="reserveBtn"><i class="fas fa-calendar-check"></i> Reserve</button>
                    <button class="btn btn-warning" id="maintenanceBtn"><i class="fas fa-tools"></i> Request Maintenance</button>
                </div>
            </div>
        </div>

        <!-- Right Column -->
        <div class="right-column">
            <div class="details-section">
                <h3 class="section-title">Maintenance History</h3>
                <ul class="maintenance-list">
                    <li class="maintenance-item">
                        <div class="maintenance-date">June 12, 2023</div>
                        <div class="maintenance-desc">OS update & software install</div>
                        <div class="maintenance-tech">Technician: John Smith</div>
                    </li>
                    <li class="maintenance-item">
                        <div class="maintenance-date">March 28, 2023</div>
                        <div class="maintenance-desc">RAM upgrade 4GB â†’ 8GB</div>
                        <div class="maintenance-tech">Technician: Sarah Johnson</div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- Modals -->
<div class="modal" id="reserveModal">
    <div class="modal-content">
        <span class="close-btn" onclick="closeModal('reserveModal')">&times;</span>
        <h3>Reserve Product</h3>
        <p>Reservation form will go here...</p>
    </div>
</div>

<div class="modal" id="maintenanceModal">
    <div class="modal-content">
        <span class="close-btn" onclick="closeModal('maintenanceModal')">&times;</span>
        <h3>Request Maintenance</h3>
        <p>Maintenance request form will go here...</p>
    </div>
</div>

<!-- Footer -->
<footer>
    <div class="container">
        <div class="footer-content">
            <div class="footer-section">
                <h3>CSE LabManager</h3>
                <p>Comprehensive computer lab management solution.</p>
            </div>
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="#">Home</a></li>
                    <li><a href="#">Dashboard</a></li>
                    <li><a href="#">Equipment</a></li>
                    <li><a href="#">Reservations</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Contact Us</h3>
                <p>Email: support@cselabmanager.com</p>
                <p>Phone: +1 (555) 123-4567</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2023 CSE Lab Management System. All rights reserved.</p>
        </div>
    </div>
</footer>

<script>
// Modal logic
function openModal(modalId){ document.getElementById(modalId).style.display='flex'; }
function closeModal(modalId){ document.getElementById(modalId).style.display='none'; }

document.getElementById('reserveBtn').addEventListener('click',()=>{ openModal('reserveModal'); });
document.getElementById('maintenanceBtn').addEventListener('click',()=>{ openModal('maintenanceModal'); });

// Close modal when clicking outside
window.addEventListener('click', function(e){
    if(e.target.classList.contains('modal')){ e.target.style.display='none'; }
});
</script>

</body>
</html>
